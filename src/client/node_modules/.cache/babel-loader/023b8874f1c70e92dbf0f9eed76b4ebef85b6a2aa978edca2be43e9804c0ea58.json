{"ast":null,"code":"import { ref, onBeforeMount, watch } from 'vue';\nimport { APIService } from '@ohrm/core/util/services/api.service';\nexport default {\n  name: 'SupervisorDropdown',\n  // inheritAttrs: false,\n  props: {\n    subunitId: {\n      required: true,\n      default: null\n    },\n    emp: {\n      required: true,\n      default: null\n    }\n  },\n  setup(props) {\n    const options = ref([]);\n    const http = new APIService(window.appGlobal.baseUrl, '/api/v2/pim/employees');\n    watch(() => props.subunitId, async newsubunitId => {\n      if (newsubunitId !== null) {\n        http.getAll({\n          subunitId: newsubunitId\n        }).then(({\n          data\n        }) => {\n          options.value = data.data.map(employee => {\n            return {\n              id: employee.empNumber,\n              label: `${employee.firstName} ${employee.middleName} ${employee.lastName}`\n            };\n          });\n        });\n      }\n    });\n    onBeforeMount(() => {\n      http.getAll({\n        limit: 0\n      }).then(({\n        data\n      }) => {\n        options.value = data.data.map(employee => {\n          return {\n            id: employee.empNumber,\n            label: `${employee.firstName} ${employee.middleName} ${employee.lastName}`\n          };\n        });\n      });\n    });\n    return {\n      options\n    };\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}