{"ast":null,"code":"import { renderSlot as _renderSlot, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, vShow as _vShow, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-e18e7be8\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"orangehrm-timesheet-header\"\n};\nconst _hoisted_2 = {\n  class: \"orangehrm-timesheet-header--title\"\n};\nconst _hoisted_3 = {\n  class: \"orangehrm-timesheet-header--options\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"orangehrm-timesheet-loader\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"orangehrm-timesheet-body-message\"\n};\nconst _hoisted_6 = {\n  key: 2,\n  class: \"orangehrm-timesheet-body\"\n};\nconst _hoisted_7 = {\n  class: \"orangehrm-timesheet-table-header\"\n};\nconst _hoisted_8 = {\n  class: \"orangehrm-timesheet-table-header-row\"\n};\nconst _hoisted_9 = {\n  class: \"orangehrm-timesheet-table-header-cell\"\n};\nconst _hoisted_10 = {\n  class: \"--day\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"orangehrm-timesheet-table-header-cell --center --freeze-right\"\n};\nconst _hoisted_12 = {\n  class: \"orangehrm-timesheet-table-body\"\n};\nconst _hoisted_13 = {\n  key: 1\n};\nconst _hoisted_14 = {\n  class: \"orangehrm-timesheet-table-body-cell\"\n};\nconst _hoisted_15 = {\n  key: 1\n};\nconst _hoisted_16 = {\n  key: 1\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"orangehrm-timesheet-table-body-cell --center --freeze-right --highlight\"\n};\nconst _hoisted_18 = {\n  key: 1,\n  class: \"orangehrm-timesheet-table-body-cell --flex\"\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"orangehrm-timesheet-table-body-row --total\"\n};\nconst _hoisted_20 = {\n  class: \"orangehrm-timesheet-table-body-cell --freeze-left --highlight\"\n};\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, null, -1 /* HOISTED */));\nconst _hoisted_22 = {\n  class: \"orangehrm-timesheet-table-body-cell --center --freeze-right --highlight-2\"\n};\nconst _hoisted_23 = {\n  key: 1,\n  class: \"orangehrm-timesheet-table-body-row\"\n};\nconst _hoisted_24 = {\n  class: \"orangehrm-timesheet-table-body-cell --flex\"\n};\nconst _hoisted_25 = {\n  key: 2,\n  class: \"orangehrm-timesheet-table-body-row\"\n};\nconst _hoisted_26 = {\n  colspan: \"9\",\n  class: \"orangehrm-timesheet-table-body-cell\"\n};\nconst _hoisted_27 = {\n  class: \"orangehrm-timesheet-footer\"\n};\nconst _hoisted_28 = {\n  class: \"orangehrm-timesheet-footer--title\"\n};\nconst _hoisted_29 = {\n  class: \"orangehrm-timesheet-footer--options\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_oxd_loading_spinner = _resolveComponent(\"oxd-loading-spinner\");\n  const _component_oxd_alert = _resolveComponent(\"oxd-alert\");\n  const _component_project_autocomplete = _resolveComponent(\"project-autocomplete\");\n  const _component_activity_dropdown = _resolveComponent(\"activity-dropdown\");\n  const _component_oxd_icon_button = _resolveComponent(\"oxd-icon-button\");\n  const _component_oxd_input_field = _resolveComponent(\"oxd-input-field\");\n  const _component_oxd_text = _resolveComponent(\"oxd-text\");\n  const _component_timesheet_comment_modal = _resolveComponent(\"timesheet-comment-modal\");\n  const _component_oxd_form = _resolveComponent(\"oxd-form\");\n  return _openBlock(), _createBlock(_component_oxd_form, {\n    class: \"orangehrm-paper-container\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_renderSlot(_ctx.$slots, \"header-title\", {}, undefined, true)]), _createElementVNode(\"div\", _hoisted_3, [_renderSlot(_ctx.$slots, \"header-options\", {}, undefined, true)])]), $props.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_oxd_loading_spinner)])) : !$props.loading && !$props.columns ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createVNode(_component_oxd_alert, {\n      type: \"warn\",\n      show: true,\n      message: _ctx.$t('time.no_timesheets_found')\n    }, null, 8 /* PROPS */, [\"message\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"table\", {\n      class: _normalizeClass($options.tableClasses)\n    }, [_createElementVNode(\"thead\", _hoisted_7, [_createElementVNode(\"tr\", _hoisted_8, [_createElementVNode(\"th\", {\n      class: _normalizeClass($options.fixedColumnClasses)\n    }, _toDisplayString(_ctx.$t('time.project')), 3 /* TEXT, CLASS */), _createElementVNode(\"th\", _hoisted_9, _toDisplayString(_ctx.$t('time.activity')), 1 /* TEXT */), _createCommentVNode(\" timesheet days of week \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.daysOfWeek, day => {\n      return _openBlock(), _createElementBlock(\"th\", {\n        key: day.id,\n        class: \"orangehrm-timesheet-table-header-cell --center\"\n      }, [_createElementVNode(\"span\", _hoisted_10, _toDisplayString(day.day), 1 /* TEXT */), _createElementVNode(\"span\", null, _toDisplayString(day.title), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */)), _createCommentVNode(\" timesheet days of week \"), !$props.editable ? (_openBlock(), _createElementBlock(\"th\", _hoisted_11, _toDisplayString(_ctx.$t('general.total')), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"tbody\", _hoisted_12, [_createCommentVNode(\" timesheet activities \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.records, (record, i) => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: record,\n        class: \"orangehrm-timesheet-table-body-row\"\n      }, [_createElementVNode(\"td\", {\n        class: _normalizeClass($options.fixedCellClasses)\n      }, [$props.editable ? (_openBlock(), _createBlock(_component_project_autocomplete, {\n        key: 0,\n        \"only-allowed\": false,\n        rules: $data.rules.project,\n        \"model-value\": $options.getProject(record),\n        \"onUpdate:modelValue\": $event => $options.updateProject($event, i)\n      }, null, 8 /* PROPS */, [\"rules\", \"model-value\", \"onUpdate:modelValue\"])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_13, _toDisplayString(record.project ? `${record.customer.name} - ${record.project.name}` : ''), 1 /* TEXT */))], 2 /* CLASS */), _createElementVNode(\"td\", _hoisted_14, [$props.editable ? (_openBlock(), _createBlock(_component_activity_dropdown, {\n        key: 0,\n        rules: $data.rules.activity,\n        \"project-id\": record.project && record.project.id,\n        \"model-value\": $options.getActivity(record.activity),\n        \"onUpdate:modelValue\": $event => $options.updateActivity($event, i)\n      }, null, 8 /* PROPS */, [\"rules\", \"project-id\", \"model-value\", \"onUpdate:modelValue\"])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_15, _toDisplayString(record.activity && record.activity.name), 1 /* TEXT */))]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.columns, (column, date) => {\n        return _openBlock(), _createElementBlock(\"td\", {\n          key: `${record.project}_${record.activity}_${date}`,\n          class: _normalizeClass({\n            'orangehrm-timesheet-table-body-cell': true,\n            '--center': true,\n            '--duration-input': $props.editable,\n            '--highlight-3': !$props.editable && column.workday\n          })\n        }, [_withDirectives(_createVNode(_component_oxd_icon_button, {\n          \"display-type\": \"secondary\",\n          class: \"orangehrm-timesheet-icon-comment\",\n          name: $options.getCommentIcon(record.dates[date]),\n          onMousedown: $event => $options.viewComment(record, record.dates[date], i, date)\n        }, null, 8 /* PROPS */, [\"name\", \"onMousedown\"]), [[_vShow, $options.isCommentVisible(record.dates[date], i, date)]]), $props.editable ? (_openBlock(), _createBlock(_component_oxd_input_field, {\n          key: 0,\n          autocomplete: \"off\",\n          rules: $options.validateDuration(date),\n          \"model-value\": $options.getDuration(record.dates[date]),\n          onBlur: $options.onDurationBlur,\n          onFocus: $event => $options.onDurationFocus(i, date),\n          \"onUpdate:modelValue\": $event => $options.updateTime($event, i, date)\n        }, null, 8 /* PROPS */, [\"rules\", \"model-value\", \"onBlur\", \"onFocus\", \"onUpdate:modelValue\"])) : (_openBlock(), _createElementBlock(\"span\", _hoisted_16, _toDisplayString($options.getDuration(record.dates[date]) ?? '00:00'), 1 /* TEXT */))], 2 /* CLASS */);\n      }), 128 /* KEYED_FRAGMENT */)), !$props.editable ? (_openBlock(), _createElementBlock(\"td\", _hoisted_17, _toDisplayString(record.total.label), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $props.editable ? (_openBlock(), _createElementBlock(\"td\", _hoisted_18, [_createVNode(_component_oxd_icon_button, {\n        name: \"trash\",\n        class: \"orangehrm-timesheet-icon\",\n        onClick: $event => $options.deleteRow(i)\n      }, null, 8 /* PROPS */, [\"onClick\"])])) : _createCommentVNode(\"v-if\", true)]);\n    }), 128 /* KEYED_FRAGMENT */)), _createCommentVNode(\" timesheet activities \"), _createCommentVNode(\" totals \"), !$props.editable && $props.records.length > 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_19, [_createElementVNode(\"td\", _hoisted_20, _toDisplayString(_ctx.$t('general.total')), 1 /* TEXT */), _hoisted_21, _createCommentVNode(\" total per day \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.columns, date => {\n      return _openBlock(), _createElementBlock(\"td\", {\n        key: `total-${date}`,\n        class: \"orangehrm-timesheet-table-body-cell --center\"\n      }, _toDisplayString(date.total.label), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */)), _createCommentVNode(\" total per day \"), _createElementVNode(\"td\", _hoisted_22, _toDisplayString($props.subtotal), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" totals \"), _createCommentVNode(\" add row \"), $props.editable ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_23, [_createElementVNode(\"td\", _hoisted_24, [_createVNode(_component_oxd_icon_button, {\n      name: \"plus\",\n      class: \"orangehrm-timesheet-icon\",\n      onClick: $options.addRow\n    }, null, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_oxd_text, {\n      type: \"subtitle-2\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('time.add_row')), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    })])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" add row \"), $props.records.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_25, [_createElementVNode(\"td\", _hoisted_26, _toDisplayString(_ctx.$t('general.no_records_found')), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])], 2 /* CLASS */)])), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"div\", _hoisted_28, [_renderSlot(_ctx.$slots, \"footer-title\", {}, undefined, true)]), _createElementVNode(\"div\", _hoisted_29, [_renderSlot(_ctx.$slots, \"footer-options\", {}, undefined, true)])]), $data.showCommentModal ? (_openBlock(), _createBlock(_component_timesheet_comment_modal, {\n      key: 3,\n      editable: $props.editable,\n      data: $data.commentModalState,\n      \"timesheet-id\": $props.timesheetId,\n      onClose: $options.onCommentModalClose\n    }, null, 8 /* PROPS */, [\"editable\", \"data\", \"timesheet-id\", \"onClose\"])) : _createCommentVNode(\"v-if\", true)]),\n    _: 3 /* FORWARDED */\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}