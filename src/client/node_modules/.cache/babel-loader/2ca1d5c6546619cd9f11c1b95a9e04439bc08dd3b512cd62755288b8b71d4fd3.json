{"ast":null,"code":"import QualificationDropdown from '@/orangehrmPimPlugin/components/QualificationDropdown';\nimport { required, shouldNotExceedCharLength, digitsOnly, validDateFormat, endDateShouldBeAfterStartDate } from '@ohrm/core/util/validation/rules';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\nconst educationModel = {\n  educationId: null,\n  institute: '',\n  major: '',\n  year: '',\n  score: '',\n  startDate: '',\n  endDate: ''\n};\nexport default {\n  name: 'SaveEducation',\n  components: {\n    'qualification-dropdown': QualificationDropdown\n  },\n  props: {\n    http: {\n      type: Object,\n      required: true\n    },\n    api: {\n      type: String,\n      required: true\n    }\n  },\n  emits: ['close'],\n  setup() {\n    const {\n      userDateFormat\n    } = useDateFormat();\n    return {\n      userDateFormat\n    };\n  },\n  data() {\n    return {\n      isLoading: false,\n      education: {\n        ...educationModel\n      },\n      rules: {\n        educationId: [required],\n        institute: [shouldNotExceedCharLength(100)],\n        major: [shouldNotExceedCharLength(100)],\n        score: [shouldNotExceedCharLength(25)],\n        year: [shouldNotExceedCharLength(4), digitsOnly],\n        startDate: [validDateFormat(this.userDateFormat)],\n        endDate: [validDateFormat(this.userDateFormat), endDateShouldBeAfterStartDate(() => this.education.startDate)]\n      }\n    };\n  },\n  methods: {\n    onSave() {\n      this.isLoading = true;\n      this.http.create({\n        ...this.education,\n        educationId: this.education.educationId?.id,\n        year: parseInt(this.education.year)\n      }).then(() => {\n        return this.$toast.saveSuccess();\n      }).then(() => {\n        this.onCancel();\n      });\n    },\n    onCancel() {\n      this.$emit('close', true);\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}