{"ast":null,"code":"import { OxdDivider } from '@ohrm/oxd';\nimport { APIService } from '@/core/util/services/api.service';\nimport QRCode from '@/orangehrmCorporateDirectoryPlugin/components/QRCode';\nexport default {\n  name: 'EmployeeDetails',\n  components: {\n    'qr-code': QRCode,\n    'oxd-divider': OxdDivider\n  },\n  props: {\n    employeeId: {\n      type: Number,\n      required: true\n    },\n    isMobile: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup() {\n    const http = new APIService(window.appGlobal.baseUrl, '/api/v2/directory/employees');\n    return {\n      http\n    };\n  },\n  data() {\n    return {\n      employeeWorkTelephone: null,\n      employeeWorkEmail: null,\n      showTelephoneClip: false,\n      showEmailClip: false,\n      toGoEmail: null,\n      qrPayload: null,\n      employeeName: null\n    };\n  },\n  watch: {\n    employeeId: function () {\n      this.callEmployeeDetailsApi();\n    }\n  },\n  beforeMount() {\n    this.callEmployeeDetailsApi();\n  },\n  methods: {\n    openClientTelephone() {\n      window.location.href = 'tel:' + this.employeeWorkTelephone;\n    },\n    openClientEmail() {\n      window.location.href = 'mailto:' + this.employeeWorkEmail;\n    },\n    copyEmail() {\n      navigator.clipboard?.writeText(this.employeeWorkEmail);\n    },\n    copyTelephone() {\n      navigator.clipboard?.writeText(this.employeeWorkTelephone);\n    },\n    callEmployeeDetailsApi() {\n      this.http.get(this.employeeId, {\n        model: 'detailed'\n      }).then(response => {\n        const {\n          data\n        } = response.data;\n        this.employeeName = {\n          firstName: data.firstName,\n          middleName: data.middleName,\n          lastName: data.lastName\n        };\n        this.employeeWorkEmail = data.contactInfo?.workEmail;\n        this.employeeWorkTelephone = data.contactInfo?.workTelephone;\n        this.generateQrPayload();\n      });\n    },\n    generateQrPayload() {\n      let content = '';\n      content += `N:${this.employeeName?.lastName || ''};`;\n      content += `${this.employeeName?.firstName || ''};`;\n      content += `${this.employeeName?.middleName || ''};\\n`;\n      if (this.employeeWorkTelephone) content += `TEL;CELL:${this.employeeWorkTelephone}\\n`;\n      if (this.employeeWorkEmail) content += `EMAIL;WORK;INTERNET:${this.employeeWorkEmail}\\n`;\n      this.qrPayload = `BEGIN:VCARD\\nVERSION:3.0\\n${content}END:VCARD\\n`;\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}