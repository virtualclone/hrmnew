{"ast":null,"code":"import { APIService } from '@/core/util/services/api.service';\nimport useBuzzAPIs from '@/orangehrmBuzzPlugin/util/composable/useBuzzAPIs';\nimport PostLikeButton from '@/orangehrmBuzzPlugin/components/PostLikeButton';\nimport PostCommentButton from '@/orangehrmBuzzPlugin/components/PostCommentButton';\nimport { OxdIcon } from '@ohrm/oxd';\nexport default {\n  name: 'PostActionsPill',\n  components: {\n    'oxd-icon': OxdIcon,\n    'post-like': PostLikeButton,\n    'post-comment': PostCommentButton\n  },\n  props: {\n    post: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['like', 'comment'],\n  setup(props, context) {\n    let loading = false;\n    const {\n      updatePostLike\n    } = useBuzzAPIs(new APIService(window.appGlobal.baseUrl, ''));\n    const onClickComment = () => {\n      context.emit('comment');\n    };\n    const onClickLike = () => {\n      if (!loading) {\n        loading = true;\n        updatePostLike(props.post.id, props.post.liked).then(() => {\n          loading = false;\n          context.emit('like');\n        });\n      }\n    };\n    return {\n      onClickLike,\n      onClickComment\n    };\n  },\n  computed: {\n    combinedPostStats() {\n      const commentsCount = this.$t('buzz.n_comment', {\n        commentCount: this.post.stats?.numOfComments || 0\n      });\n      const sharesCount = this.$t('buzz.n_share', {\n        shareCount: this.post.stats?.numOfShares || 0\n      });\n      return this.post.stats?.numOfShares === null ? commentsCount : `${commentsCount}, ${sharesCount}`;\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}