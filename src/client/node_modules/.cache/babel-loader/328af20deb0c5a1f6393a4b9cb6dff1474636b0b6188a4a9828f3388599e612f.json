{"ast":null,"code":"import { computed, ref } from 'vue';\nimport { validSelection, validDateFormat, endDateShouldBeAfterStartDate, startDateShouldBeBeforeEndDate } from '@/core/util/validation/rules';\nimport ReportsTable from '@/core/components/table/ReportsTable';\nimport JobtitleDropdown from '@/orangehrmPimPlugin/components/JobtitleDropdown';\nimport EmployeeAutocomplete from '@/core/components/inputs/EmployeeAutocomplete';\nimport EmploymentStatusDropdown from '@/orangehrmPimPlugin/components/EmploymentStatusDropdown';\nimport usei18n from '@/core/util/composable/usei18n';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\nconst defaultFilters = {\n  employee: null,\n  fromDate: null,\n  toDate: null,\n  jobTitle: null,\n  subunit: null,\n  empStatus: null\n};\nexport default {\n  components: {\n    'reports-table': ReportsTable,\n    'jobtitle-dropdown': JobtitleDropdown,\n    'employee-autocomplete': EmployeeAutocomplete,\n    'employment-status-dropdown': EmploymentStatusDropdown\n  },\n  props: {\n    subunits: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup() {\n    const filters = ref({\n      ...defaultFilters\n    });\n    const {\n      $t\n    } = usei18n();\n    const {\n      userDateFormat\n    } = useDateFormat();\n    const rules = {\n      fromDate: [validDateFormat(userDateFormat), startDateShouldBeBeforeEndDate(() => filters.value.toDate, $t('general.from_date_should_be_before_to_date'), {\n        allowSameDate: true\n      })],\n      toDate: [validDateFormat(userDateFormat), endDateShouldBeAfterStartDate(() => filters.value.fromDate, $t('general.to_date_should_be_after_from_date'), {\n        allowSameDate: true\n      })],\n      employee: [validSelection]\n    };\n    const serializedFilters = computed(() => {\n      return {\n        empNumber: filters.value.employee?.id,\n        fromDate: filters.value.fromDate,\n        toDate: filters.value.toDate,\n        jobTitleId: filters.value.jobTitle?.id,\n        subunitId: filters.value.subunit?.id,\n        employmentStatusId: filters.value.empStatus?.id\n      };\n    });\n    return {\n      rules,\n      filters,\n      serializedFilters\n    };\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}