{"ast":null,"code":"import { computed, reactive, toRefs } from 'vue';\nimport useLocale from '@/core/util/composable/useLocale';\nimport { formatDate, parseDate } from '@/core/util/helper/datefns';\nimport useDateFormat from '@/core/util/composable/useDateFormat';\nimport PhotoFrame from '@/orangehrmBuzzPlugin/components/PhotoFrame';\nimport VideoFrame from '@/orangehrmBuzzPlugin/components/VideoFrame';\nimport useEmployeeNameTranslate from '@/core/util/composable/useEmployeeNameTranslate';\nimport { OxdIcon } from '@ohrm/oxd';\nexport default {\n  name: 'PostBody',\n  components: {\n    'oxd-icon': OxdIcon,\n    'photo-frame': PhotoFrame,\n    'video-frame': VideoFrame\n  },\n  props: {\n    post: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['close', 'selectPhoto'],\n  setup(props, context) {\n    const {\n      locale\n    } = useLocale();\n    const {\n      jsDateFormat,\n      jsTimeFormat\n    } = useDateFormat();\n    const {\n      $tEmpName\n    } = useEmployeeNameTranslate();\n    const state = reactive({\n      readMore: new String(props.post?.text).length < 500\n    });\n    const postClasses = computed(() => ({\n      'orangehrm-buzz-post-body-text': true,\n      '--truncate': state.readMore === false\n    }));\n    const onClickReadMore = () => {\n      state.readMore = !state.readMore;\n    };\n    const onClickPicture = index => {\n      context.emit('selectPhoto', index);\n    };\n    const originalPost = computed(() => {\n      if (props.post.originalPost === null) return null;\n      const {\n        createdDate,\n        createdTime\n      } = props.post.originalPost;\n      const utcDate = parseDate(`${createdDate} ${createdTime} +00:00`, 'yyyy-MM-dd HH:mm xxx');\n      return {\n        text: props.post.originalPost.text,\n        employee: $tEmpName(props.post.originalPost.employee, {\n          includeMiddle: true,\n          excludePastEmpTag: false\n        }),\n        dateTime: formatDate(utcDate, `${jsDateFormat} ${jsTimeFormat}`, {\n          locale\n        })\n      };\n    });\n    return {\n      postClasses,\n      originalPost,\n      onClickPicture,\n      onClickReadMore,\n      ...toRefs(state)\n    };\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}