{"ast":null,"code":"import { ref, onBeforeMount, computed, watch } from 'vue';\nimport { APIService } from '@ohrm/core/util/services/api.service';\nexport default {\n  name: 'ProjectDropdown',\n  inheritAttrs: false,\n  props: {\n    customerId: {\n      required: true,\n      default: null\n    }\n  },\n  setup(props) {\n    // const customerId = ref([]);\n    const options = ref([]);\n    const http = new APIService(window.appGlobal.baseUrl, '/api/v2/time/projects');\n    watch(() => props.customerId, async newCustomerId => {\n      if (newCustomerId !== null) {\n        try {\n          const response = await http.getAll({\n            customerId: newCustomerId\n            // Other query parameters as needed\n          });\n\n          console.log(response);\n          //   options.value = data.data.map((item) => {\n          //         return {\n          //             id: item.id,\n          //             label: item.name,\n          //         };\n          //     }); // Update the projects array\n        } catch (error) {\n          console.error('Error fetching projects:', error);\n        }\n      }\n    });\n    onBeforeMount(() => {\n      http.getAll().then(({\n        data\n      }) => {\n        options.value = data.data.map(item => {\n          return {\n            id: item.id,\n            label: item.name\n          };\n        });\n      });\n    });\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}