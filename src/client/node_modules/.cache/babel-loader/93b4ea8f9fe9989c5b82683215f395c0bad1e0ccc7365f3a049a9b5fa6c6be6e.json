{"ast":null,"code":"import { APIService } from '@/core/util/services/api.service';\nimport { OxdDialog, OxdIcon } from '@ohrm/oxd';\nexport default {\n  name: 'EmployeesOnLeaveConfigModal',\n  components: {\n    'oxd-icon': OxdIcon,\n    'oxd-dialog': OxdDialog\n  },\n  emits: ['close'],\n  setup() {\n    const http = new APIService(window.appGlobal.baseUrl, '/api/v2/dashboard/config/employee-on-leave-today');\n    return {\n      http\n    };\n  },\n  data() {\n    return {\n      isLoading: false,\n      showAccessibleEmployeesOnly: false\n    };\n  },\n  beforeMount() {\n    this.isLoading = true;\n    this.http.getAll().then(response => {\n      const {\n        data\n      } = response.data;\n      this.showAccessibleEmployeesOnly = data.showOnlyAccessibleEmployeesOnLeaveToday;\n    }).finally(() => this.isLoading = false);\n  },\n  methods: {\n    onSave() {\n      this.isLoading = true;\n      this.http.request({\n        method: 'PUT',\n        data: {\n          showOnlyAccessibleEmployeesOnLeaveToday: this.showAccessibleEmployeesOnly\n        }\n      }).then(() => {\n        this.$toast.updateSuccess();\n        this.onCancel();\n      });\n    },\n    onCancel() {\n      this.$emit('close', true);\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}