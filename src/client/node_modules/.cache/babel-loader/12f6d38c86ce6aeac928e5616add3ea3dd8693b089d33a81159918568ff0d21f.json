{"ast":null,"code":"import ReportToEmployeeAutocomplete from '@/orangehrmPimPlugin/components/ReportToEmployeeAutocomplete';\nimport { required, validSelection } from '@ohrm/core/util/validation/rules';\nconst reportToModel = {\n  employee: null,\n  reportingMethod: null\n};\nexport default {\n  name: 'SaveEmployeeReportTo',\n  components: {\n    'report-to-employee-autocomplete': ReportToEmployeeAutocomplete\n  },\n  props: {\n    http: {\n      type: Object,\n      required: true\n    },\n    reportingMethods: {\n      type: Array,\n      required: true\n    },\n    type: {\n      type: String,\n      required: true\n    },\n    empNumber: {\n      type: String,\n      required: true\n    }\n  },\n  emits: ['close'],\n  setup(props) {\n    const api = `/api/v2/pim/employees/${props.empNumber}/report-to/allowed`;\n    return {\n      api\n    };\n  },\n  data() {\n    return {\n      isLoading: false,\n      reportTo: {\n        ...reportToModel\n      },\n      rules: {\n        employee: [required, validSelection],\n        reportingMethod: [required]\n      }\n    };\n  },\n  methods: {\n    onSave() {\n      this.isLoading = true;\n      this.http.create({\n        empNumber: this.reportTo.employee?.id,\n        reportingMethodId: this.reportTo.reportingMethod?.id\n      }).then(() => {\n        return this.$toast.saveSuccess();\n      }).then(() => {\n        this.onCancel();\n      });\n    },\n    onCancel() {\n      this.$emit('close', true);\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}