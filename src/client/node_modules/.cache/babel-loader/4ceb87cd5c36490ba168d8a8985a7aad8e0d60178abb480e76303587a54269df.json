{"ast":null,"code":"import { reloadPage } from '@/core/util/helper/navigation';\nimport { APIService } from '@/core/util/services/api.service';\nimport ConfirmationDialog from '@/core/components/dialogs/ConfirmationDialog';\nimport MaintenanceNote from '@/orangehrmMaintenancePlugin/components/MaintenanceNote';\nimport SelectedCandidates from '@/orangehrmMaintenancePlugin/components/SelectedCandidates';\nexport default {\n  name: 'PurgeCandidate',\n  components: {\n    'maintenance-note': MaintenanceNote,\n    'purge-confirmation': ConfirmationDialog,\n    'selected-candidates': SelectedCandidates\n  },\n  props: {\n    instanceIdentifier: {\n      type: String,\n      default: null\n    }\n  },\n  setup() {\n    const http = new APIService(window.appGlobal.baseUrl, '/api/v2/maintenance/candidates/purge');\n    return {\n      http\n    };\n  },\n  data() {\n    return {\n      isLoading: false\n    };\n  },\n  methods: {\n    onClickPurge(vacancy) {\n      const vacancyId = vacancy;\n      this.$refs.purgeDialog.showDialog().then(confirmation => {\n        if (confirmation === 'ok') {\n          this.purgeCandidates(vacancyId);\n        }\n      });\n    },\n    purgeCandidates(vacancyId) {\n      this.isLoading = true;\n      this.http.deleteAll({\n        vacancyId\n      }).then(() => {\n        return this.$toast.success({\n          title: this.$t('general.success'),\n          message: this.$t('maintenance.purge_success')\n        });\n      }).then(() => {\n        reloadPage();\n      });\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}